{"version":3,"sources":["webpack:///webpack/bootstrap 4a936c8d543b4f48c19c","webpack:///./gameTickLoop.js","webpack:///./creepRoles/harvester.js","webpack:///./creepRoles/upgrader.js","webpack:///./creepRoles/builder.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4a936c8d543b4f48c19c\n **/","import roleHarvester from \"./creepRoles/harvester.js\";\nimport roleUpgrader from \"./creepRoles/upgrader.js\";\nimport roleBuilder from \"./creepRoles/builder.js\";\n\nconst loop = () => {\n  console.log(\"TICK in bundle from gameTickLoop.js\");\n  var tower = Game.getObjectById(null);\n  if(tower) {\n    var closestDamagedStructure = tower.pos.findClosestByRange(FIND_STRUCTURES, {\n      filter: (structure) => structure.hits < structure.hitsMax\n    });\n    if(closestDamagedStructure) {\n      tower.repair(closestDamagedStructure);\n    }\n\n    var closestHostile = tower.pos.findClosestByRange(FIND_HOSTILE_CREEPS);\n    if(closestHostile) {\n      tower.attack(closestHostile);\n    }\n  }\n\n  for(var name in Game.creeps) {\n    var creep = Game.creeps[name];\n    if(creep.memory.role == 'harvester') {\n      roleHarvester.run(creep);\n    }\n    if(creep.memory.role == 'upgrader') {\n      roleUpgrader.run(creep);\n    }\n    if(creep.memory.role == 'builder') {\n      roleBuilder.run(creep);\n    }\n  }\n}\n\n// export {loop as loop};\nmodule.exports.loop = loop;\n\n\n/** WEBPACK FOOTER **\n ** ./gameTickLoop.js\n **/","var roleHarvester = {\n  /** @param {Creep} creep **/\n  run: function(creep) {\n    if(creep.carry.energy < creep.carryCapacity) {\n      var sources = creep.room.find(FIND_SOURCES);\n      if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n        creep.moveTo(sources[0]);\n      }\n    }\n    else {\n      var targets = creep.room.find(FIND_STRUCTURES, {\n        filter: (structure) => {\n          return (structure.structureType == STRUCTURE_EXTENSION ||\n            structure.structureType == STRUCTURE_SPAWN ||\n            structure.structureType == STRUCTURE_TOWER) && structure.energy < structure.energyCapacity;\n        }\n      });\n      if(targets.length > 0) {\n        if(creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {\n          creep.moveTo(targets[0]);\n        }\n      }\n    }\n  }\n};\n\nexport default roleHarvester;\n\n\n/** WEBPACK FOOTER **\n ** ./creepRoles/harvester.js\n **/","var roleUpgrader = {\n  /** @param {Creep} creep **/\n  run: function(creep) {\n    if(creep.memory.upgrading && creep.carry.energy == 0) {\n      creep.memory.upgrading = false;\n    }\n    if(!creep.memory.upgrading && creep.carry.energy == creep.carryCapacity) {\n      creep.memory.upgrading = true;\n    }\n\n    if(creep.memory.upgrading) {\n      if(creep.upgradeController(creep.room.controller) == ERR_NOT_IN_RANGE) {\n        creep.moveTo(creep.room.controller);\n      }\n    }\n    else {\n      var sources = creep.room.find(FIND_SOURCES);\n      if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n        creep.moveTo(sources[0]);\n      }\n    }\n  }\n};\n\nexport default roleUpgrader;\n\n\n/** WEBPACK FOOTER **\n ** ./creepRoles/upgrader.js\n **/","const builderRole = {\n  /** @param {Creep} creep **/\n  run: function(creep) {\n    if(creep.memory.building && creep.carry.energy == 0) {\n      creep.memory.building = false;\n    }\n    if(!creep.memory.building && creep.carry.energy == creep.carryCapacity) {\n      creep.memory.building = true;\n    }\n    if(creep.memory.building) {\n      var targets = creep.room.find(FIND_CONSTRUCTION_SITES);\n      if(targets.length) {\n        if(creep.build(targets[0]) == ERR_NOT_IN_RANGE) {\n          creep.moveTo(targets[0]);\n        }\n      }\n    }\n    else {\n      var sources = creep.room.find(FIND_SOURCES);\n      if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n        creep.moveTo(sources[0]);\n      }\n    }\n  }\n};\n\nexport default builderRole;\n\n\n/** WEBPACK FOOTER **\n ** ./creepRoles/builder.js\n **/"],"sourceRoot":""}