{"version":3,"sources":["webpack:///main.js","webpack:///webpack/bootstrap 3d15e39788eb6f36aaa6","webpack:///./gameTickLoop.js","webpack:///./creepRoles/builder.js","webpack:///./creepRoles/harvester.js","webpack:///./creepRoles/upgrader.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","loop","undefined","_harvester","_harvester2","_upgrader","_upgrader2","_builder","_builder2","gameTickLoop","name","Memory","creeps","console","log","Game","structs","structures","i","length","harvesters","_","filter","creep","memory","role","newName","spawns","spawn","createCreep","WORK","CARRY","MOVE","tower","getObjectById","closestDamagedStructure","pos","findClosestByRange","FIND_STRUCTURES","structure","hits","hitsMax","repair","closestHostile","FIND_HOSTILE_CREEPS","attack","run","builderRole","building","carry","energy","carryCapacity","targets","room","find","FIND_CONSTRUCTION_SITES","build","ERR_NOT_IN_RANGE","moveTo","sources","FIND_SOURCES","harvest","roleHarvester","structureType","STRUCTURE_EXTENSION","STRUCTURE_SPAWN","STRUCTURE_TOWER","energyCapacity","transfer","RESOURCE_ENERGY","roleUpgrader","upgrading","upgradeController","controller"],"mappings":"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","file":"main.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.loop = undefined;\n\t\n\tvar _harvester = __webpack_require__(2);\n\t\n\tvar _harvester2 = _interopRequireDefault(_harvester);\n\t\n\tvar _upgrader = __webpack_require__(3);\n\t\n\tvar _upgrader2 = _interopRequireDefault(_upgrader);\n\t\n\tvar _builder = __webpack_require__(1);\n\t\n\tvar _builder2 = _interopRequireDefault(_builder);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar gameTickLoop = function gameTickLoop() {\n\t\n\t  // Always place this memory cleaning code at the very top of your main loop!\n\t\n\t  for (var name in Memory.creeps) {\n\t    console.log(\"creep in memory:\", name);\n\t    if (!Game.creeps[name]) {\n\t      delete Memory.creeps[name];\n\t      console.log('Clearing non-existing creep memory:', name);\n\t    }\n\t  }\n\t  console.log(\"TICK in bundle from gameTickLoop.js\");\n\t\n\t  var structs = Game.structures;\n\t  console.log(\"structures collection:\", structs);\n\t\n\t  for (var i = 0; i < structs.length; i++) {\n\t    console.log(\"struct #\" + i, structs[i]);\n\t  }\n\t\n\t  var harvesters = _.filter(Game.creeps, function (creep) {\n\t    return creep.memory.role == 'harvester';\n\t  });\n\t  console.log('Harvesters: ' + harvesters.length);\n\t\n\t  if (harvesters.length < 2) {\n\t    var newName = Game.spawns.spawn.createCreep([WORK, CARRY, MOVE], undefined, { role: 'harvester' });\n\t    console.log('Spawning new harvester: ' + newName);\n\t  }\n\t\n\t  var tower = Game.getObjectById(null);\n\t  if (tower) {\n\t    var closestDamagedStructure = tower.pos.findClosestByRange(FIND_STRUCTURES, {\n\t      filter: function filter(structure) {\n\t        return structure.hits < structure.hitsMax;\n\t      }\n\t    });\n\t    if (closestDamagedStructure) {\n\t      tower.repair(closestDamagedStructure);\n\t    }\n\t\n\t    var closestHostile = tower.pos.findClosestByRange(FIND_HOSTILE_CREEPS);\n\t    if (closestHostile) {\n\t      tower.attack(closestHostile);\n\t    }\n\t  }\n\t\n\t  for (var name in Game.creeps) {\n\t    var creep = Game.creeps[name];\n\t    if (creep.memory.role == 'harvester') {\n\t      _harvester2.default.run(creep);\n\t    }\n\t    if (creep.memory.role == 'upgrader') {\n\t      _upgrader2.default.run(creep);\n\t    }\n\t    if (creep.memory.role == 'builder') {\n\t      _builder2.default.run(creep);\n\t    }\n\t  }\n\t};\n\t\n\texports.loop = gameTickLoop;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar builderRole = {\n\t  /** @param {Creep} creep **/\n\t  run: function run(creep) {\n\t    if (creep.memory.building && creep.carry.energy == 0) {\n\t      creep.memory.building = false;\n\t    }\n\t    if (!creep.memory.building && creep.carry.energy == creep.carryCapacity) {\n\t      creep.memory.building = true;\n\t    }\n\t    if (creep.memory.building) {\n\t      var targets = creep.room.find(FIND_CONSTRUCTION_SITES);\n\t      if (targets.length) {\n\t        if (creep.build(targets[0]) == ERR_NOT_IN_RANGE) {\n\t          creep.moveTo(targets[0]);\n\t        }\n\t      }\n\t    } else {\n\t      var sources = creep.room.find(FIND_SOURCES);\n\t      if (creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n\t        creep.moveTo(sources[0]);\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\texports.default = builderRole;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar roleHarvester = {\n\t  /** @param {Creep} creep **/\n\t  run: function run(creep) {\n\t    if (creep.carry.energy < creep.carryCapacity) {\n\t      var sources = creep.room.find(FIND_SOURCES);\n\t      if (creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n\t        creep.moveTo(sources[0]);\n\t      }\n\t    } else {\n\t      var targets = creep.room.find(FIND_STRUCTURES, {\n\t        filter: function filter(structure) {\n\t          return (structure.structureType == STRUCTURE_EXTENSION || structure.structureType == STRUCTURE_SPAWN || structure.structureType == STRUCTURE_TOWER) && structure.energy < structure.energyCapacity;\n\t        }\n\t      });\n\t      if (targets.length > 0) {\n\t        if (creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {\n\t          creep.moveTo(targets[0]);\n\t        }\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\texports.default = roleHarvester;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar roleUpgrader = {\n\t  /** @param {Creep} creep **/\n\t  run: function run(creep) {\n\t    if (creep.memory.upgrading && creep.carry.energy == 0) {\n\t      creep.memory.upgrading = false;\n\t    }\n\t    if (!creep.memory.upgrading && creep.carry.energy == creep.carryCapacity) {\n\t      creep.memory.upgrading = true;\n\t    }\n\t\n\t    if (creep.memory.upgrading) {\n\t      if (creep.upgradeController(creep.room.controller) == ERR_NOT_IN_RANGE) {\n\t        creep.moveTo(creep.room.controller);\n\t      }\n\t    } else {\n\t      var sources = creep.room.find(FIND_SOURCES);\n\t      if (creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n\t        creep.moveTo(sources[0]);\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\texports.default = roleUpgrader;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3d15e39788eb6f36aaa6\n **/","import roleHarvester from \"./creepRoles/harvester.js\";\nimport roleUpgrader from \"./creepRoles/upgrader.js\";\nimport roleBuilder from \"./creepRoles/builder.js\";\n\nconst gameTickLoop = () => {\n\n// Always place this memory cleaning code at the very top of your main loop!\n\nfor(var name in Memory.creeps) {\n  console.log(\"creep in memory:\", name)\n  if(!Game.creeps[name]) {\n    delete Memory.creeps[name];\n    console.log('Clearing non-existing creep memory:', name);\n  }\n}\nconsole.log(\"TICK in bundle from gameTickLoop.js\");\n\nconst structs = Game.structures;\nconsole.log(\"structures collection:\",structs)\n\nfor (let i = 0; i < structs.length; i++){\n  console.log(\"struct #\"+i,structs[i])\n}\n\nvar harvesters = _.filter(Game.creeps, (creep) => creep.memory.role == 'harvester');\nconsole.log('Harvesters: ' + harvesters.length);\n\nif(harvesters.length < 2) {\n  var newName = Game.spawns.spawn.createCreep([WORK,CARRY,MOVE], undefined, {role: 'harvester'});\n  console.log('Spawning new harvester: ' + newName);\n}\n\nvar tower = Game.getObjectById(null);\nif(tower) {\n  var closestDamagedStructure = tower.pos.findClosestByRange(FIND_STRUCTURES, {\n    filter: (structure) => structure.hits < structure.hitsMax\n  });\n  if(closestDamagedStructure) {\n    tower.repair(closestDamagedStructure);\n  }\n\n  var closestHostile = tower.pos.findClosestByRange(FIND_HOSTILE_CREEPS);\n  if(closestHostile) {\n    tower.attack(closestHostile);\n  }\n}\n\nfor(var name in Game.creeps) {\n  var creep = Game.creeps[name];\n  if(creep.memory.role == 'harvester') {\n    roleHarvester.run(creep);\n  }\n  if(creep.memory.role == 'upgrader') {\n    roleUpgrader.run(creep);\n  }\n  if(creep.memory.role == 'builder') {\n    roleBuilder.run(creep);\n  }\n}\n}\n\nexport {gameTickLoop as loop};\n\n\n/** WEBPACK FOOTER **\n ** ./gameTickLoop.js\n **/","const builderRole = {\n  /** @param {Creep} creep **/\n  run: function(creep) {\n    if(creep.memory.building && creep.carry.energy == 0) {\n      creep.memory.building = false;\n    }\n    if(!creep.memory.building && creep.carry.energy == creep.carryCapacity) {\n      creep.memory.building = true;\n    }\n    if(creep.memory.building) {\n      var targets = creep.room.find(FIND_CONSTRUCTION_SITES);\n      if(targets.length) {\n        if(creep.build(targets[0]) == ERR_NOT_IN_RANGE) {\n          creep.moveTo(targets[0]);\n        }\n      }\n    }\n    else {\n      var sources = creep.room.find(FIND_SOURCES);\n      if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n        creep.moveTo(sources[0]);\n      }\n    }\n  }\n};\n\nexport default builderRole;\n\n\n/** WEBPACK FOOTER **\n ** ./creepRoles/builder.js\n **/","var roleHarvester = {\n  /** @param {Creep} creep **/\n  run: function(creep) {\n    if(creep.carry.energy < creep.carryCapacity) {\n      var sources = creep.room.find(FIND_SOURCES);\n      if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n        creep.moveTo(sources[0]);\n      }\n    }\n    else {\n      var targets = creep.room.find(FIND_STRUCTURES, {\n        filter: (structure) => {\n          return (structure.structureType == STRUCTURE_EXTENSION ||\n            structure.structureType == STRUCTURE_SPAWN ||\n            structure.structureType == STRUCTURE_TOWER) && structure.energy < structure.energyCapacity;\n        }\n      });\n      if(targets.length > 0) {\n        if(creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {\n          creep.moveTo(targets[0]);\n        }\n      }\n    }\n  }\n};\n\nexport default roleHarvester;\n\n\n/** WEBPACK FOOTER **\n ** ./creepRoles/harvester.js\n **/","var roleUpgrader = {\n  /** @param {Creep} creep **/\n  run: function(creep) {\n    if(creep.memory.upgrading && creep.carry.energy == 0) {\n      creep.memory.upgrading = false;\n    }\n    if(!creep.memory.upgrading && creep.carry.energy == creep.carryCapacity) {\n      creep.memory.upgrading = true;\n    }\n\n    if(creep.memory.upgrading) {\n      if(creep.upgradeController(creep.room.controller) == ERR_NOT_IN_RANGE) {\n        creep.moveTo(creep.room.controller);\n      }\n    }\n    else {\n      var sources = creep.room.find(FIND_SOURCES);\n      if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\n        creep.moveTo(sources[0]);\n      }\n    }\n  }\n};\n\nexport default roleUpgrader;\n\n\n/** WEBPACK FOOTER **\n ** ./creepRoles/upgrader.js\n **/"],"sourceRoot":""}